
DROP TABLE CLIENTE;


create table CLIENTE
(numero NUMBER(6)NOT NULL,
 nombre VARCHAR2(20) NOT NULL,
 apellido VARCHAR2(20) NOT NULL,
 direccion VARCHAR2(40) NOT NULL,
 telefono NUMBER(12) ,
CONSTRAINT pk_CLIENTE PRIMARY KEY (numero)
);
create table VISITA
(id_visita NUMBER(2) NOT NULL,
CLIENTE_numero NUMBER(6) NOT NULL,
 PROPIEDAD_numero NUMBER(9) NOT NULL,
 apellido VARCHAR2(20) NOT NULL,
 direccion VARCHAR2(40)NOT NULL,
 telefono NUMBER(12),
 CONSTRAINT pk_VISITA PRIMARY KEY (id_visita)
);
create table PROPIEDAD
(numero NUMBER(8) NOT NULL,
calle VARCHAR2(20) NOT NULL,
ciudad VARCHAR2 (30) NOT NULL,
codigo_postal NUMBER(10) NOT NULL,
tipo VARCHAR2(30) NOT NULL,
habitacion NUMBER(3) NOT NULL,
valor NUMBER(10) NOT NULL,
CONSTRAINT pk_PROPIEDAD PRIMARY KEY (numero)
);
create table PROPIETARIO
(nombre VARCHAR2(20) NOT NULL,
 apellido VARCHAR2(20) NOT NULL,
 direccion VARCHAR2(40) NOT NULL,
 sexo CHAR(1) NOT NULL
 );
 
create table EMPLEADO 
(numero NUMBER(2) NOT NULL,
nombre VARCHAR(5) NOT NULL,
 apellido VARCHAR2(20) NOT NULL,
 cargo VARCHAR(20) NOT NULL,
 sexo CHAR(1) NOT NULL,
 sueldo NUMBER(9) NOT NULL,
 CONSTRAINT pk_EMPLEADO PRIMARY KEY (numero)
 );
 
create table OFICINA
(numero NUMBER(2) NOT NULL,
calle VARCHAR(20)NOT NULL,
ciudad VARCHAR2(20) NOT NULL,
codigo_postal NUMBER(10)NOT NULL,
C00ONSTRAINT pk_OFICINA PRIMARY  KEY (numero)
)
 
 ALTER TABLE VISITA 
     ADD CONSTRAINT fk_VISITA_PROPIEDAD FOREIGN KEY (CLIENTE_numero)
     REFERENCES CLIENTE (numero); ALTER TABLE VISITA 
     ALTER TABLE VISITA
     ADD CONSTRAINT fk_VISITA_CLIENTE FOREIGN KEY (PROPIEDAD_numero)
     REFERENCES PROPIEDAD (numero);
